<mjml>
    <mj-head>
        <mj-title>Session Request - {{ APP_NAME }}</mj-title>
        <mj-preview
            >Verify your {{ APP_NAME }} login session request</mj-preview
        >
        <mj-attributes>
            <mj-all font-family="Arial, sans-serif" />
            <mj-text font-size="16px" color="#333333" line-height="24px" />
            <mj-section background-color="#ffffff" />
        </mj-attributes>
        <mj-style inline="inline">
            {% if client_type == 'bloom-business' %} .primary-color { color:
            #7C3AED !important; } .primary-bg { background-color: #7C3AED
            !important; } .gradient-bg { background: linear-gradient(135deg,
            #7C3AED 0%, #A855F7 100%) !important; } {% else %} .primary-color {
            color: #3B82F6 !important; } .primary-bg { background-color: #3B82F6
            !important; } .gradient-bg { background: linear-gradient(135deg,
            #3B82F6 0%, #60A5FA 100%) !important; } {% endif %} .button-style {
            background: linear-gradient(135deg, {% if client_type ==
            'bloom-business' %}#7C3AED 0%, #A855F7 100%{% else %}#3B82F6 0%,
            #60A5FA 100%{% endif %}) !important; border-radius: 8px !important;
            color: #ffffff !important; text-decoration: none !important;
            font-weight: 600 !important; padding: 16px 32px !important; display:
            inline-block !important; } .code-style { background-color: #F3F4F6
            !important; border: 2px dashed {% if client_type == 'bloom-business'
            %}#7C3AED{% else %}#3B82F6{% endif %} !important; border-radius:
            12px !important; font-family: 'Courier New', monospace !important;
            font-size: 32px !important; font-weight: bold !important;
            letter-spacing: 4px !important; text-align: center !important;
            padding: 24px !important; color: {% if client_type ==
            'bloom-business' %}#7C3AED{% else %}#3B82F6{% endif %} !important; }
        </mj-style>
    </mj-head>
    <mj-body background-color="#F9FAFB">
        <!-- Header with Logo -->
        <mj-section css-class="gradient-bg" padding="40px 0">
            <mj-column>
                <mj-image
                    src="{{ base64image('bloom_purple_logo.png' if client_type == 'bloom-business' else 'bloom_blue_logo.png') }}"
                    alt="{{ APP_NAME }} Logo"
                    width="150px"
                    align="center"
                />
                <mj-text
                    align="center"
                    color="#ffffff"
                    font-size="28px"
                    font-weight="bold"
                    padding-top="20px"
                >
                    Verify Your Login Session
                </mj-text>
            </mj-column>
        </mj-section>

        <!-- Main Content -->
        <mj-section background-color="#ffffff" padding="40px 20px">
            <mj-column>
                <mj-text font-size="18px" color="#374151" padding-bottom="20px">
                    Hello {{ first_name }},
                </mj-text>

                <mj-text
                    font-size="16px"
                    color="#6B7280"
                    line-height="24px"
                    padding-bottom="30px"
                >
                    We've received your request to start a new login session
                    with {{ APP_NAME }}. To complete the process, please use the
                    verification code below.
                </mj-text>

                <!-- OTP Code -->
                <mj-text align="center" padding="20px 0">
                    <div class="code-style">{{ token }}</div>
                </mj-text>

                <mj-text
                    font-size="14px"
                    color="#9CA3AF"
                    align="center"
                    padding-top="10px"
                >
                    This code will expire in {{ validity_time }} minutes
                </mj-text>

                <mj-text
                    font-size="14px"
                    color="#6B7280"
                    line-height="20px"
                    padding-top="30px"
                >
                    If you didn't request a new login session, please ignore
                    this email or contact our support team if you have concerns.
                </mj-text>

                <mj-text
                    font-size="14px"
                    color="#9CA3AF"
                    line-height="20px"
                    padding-top="20px"
                >
                    This session request was initiated on {{ now().strftime('%B
                    %d, %Y at %I:%M %p UTC') }}.
                </mj-text>
            </mj-column>
        </mj-section>

        <!-- Security Notice -->
        <mj-section background-color="#FEF3C7" padding="20px">
            <mj-column>
                <mj-text
                    font-size="14px"
                    color="#92400E"
                    align="center"
                    line-height="20px"
                >
                    ðŸ”’ <strong>Security Notice:</strong> {{ APP_NAME }} will
                    never ask for your password via email. This code will expire
                    in {{ validity_time }} minutes.
                </mj-text>
            </mj-column>
        </mj-section>

        <!-- Footer -->
        <mj-section background-color="#F3F4F6" padding="30px 20px">
            <mj-column>
                <mj-text
                    font-size="14px"
                    color="#6B7280"
                    align="center"
                    line-height="20px"
                >
                    Need help? Contact our support team at
                    <a href="mailto:{{ SUPPORT_EMAIL }}" class="primary-color"
                        >{{ SUPPORT_EMAIL }}</a
                    >
                </mj-text>

                <mj-text
                    font-size="12px"
                    color="#9CA3AF"
                    align="center"
                    padding-top="15px"
                >
                    Â© {{ now().year }} {{ APP_NAME }}. All rights reserved.
                </mj-text>

                <mj-text
                    font-size="12px"
                    color="#9CA3AF"
                    align="center"
                    padding-top="10px"
                >
                    This email was sent to {{ email }}
                </mj-text>
            </mj-column>
        </mj-section>
    </mj-body>
</mjml>
