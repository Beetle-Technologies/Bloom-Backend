<mjml>
    <mj-head>
        <mj-title>Email Verification - {{ APP_NAME }}</mj-title>
        <mj-preview>Verify your {{ APP_NAME }} email address</mj-preview>
        <mj-attributes>
            <mj-all font-family="Arial, sans-serif" />
            <mj-text font-size="16px" color="#333333" line-height="24px" />
            <mj-section background-color="#ffffff" />
        </mj-attributes>
        <mj-style inline="inline">
            {% if client_type == 'bloom-business' %} .primary-color { color:
            #7C3AED !important; } .primary-bg { background-color: #7C3AED
            !important; } .gradient-bg { background: linear-gradient(135deg,
            #7C3AED 0%, #A855F7 100%) !important; } {% else %} .primary-color {
            color: #3B82F6 !important; } .primary-bg { background-color: #3B82F6
            !important; } .gradient-bg { background: linear-gradient(135deg,
            #3B82F6 0%, #60A5FA 100%) !important; } {% endif %} .button-style {
            background: linear-gradient(135deg, {% if client_type ==
            'bloom-business' %}#7C3AED 0%, #A855F7 100%{% else %}#3B82F6 0%,
            #60A5FA 100%{% endif %}) !important; border-radius: 8px !important;
            color: #ffffff !important; text-decoration: none !important;
            font-weight: 600 !important; padding: 16px 32px !important; display:
            inline-block !important; } .code-style { background-color: #F3F4F6
            !important; border: 2px dashed {% if client_type == 'bloom-business'
            %}#7C3AED{% else %}#3B82F6{% endif %} !important; border-radius:
            12px !important; font-family: 'Courier New', monospace !important;
            font-size: 32px !important; font-weight: bold !important;
            letter-spacing: 4px !important; text-align: center !important;
            padding: 24px !important; color: {% if client_type ==
            'bloom-business' %}#7C3AED{% else %}#3B82F6{% endif %} !important; }
        </mj-style>
    </mj-head>
    <mj-body background-color="#F9FAFB">
        <!-- Header with Logo -->
        <mj-section css-class="gradient-bg" padding="40px 0">
            <mj-column>
                <mj-image
                    src="{{ base64image('bloom_purple_logo.png' if client_type == 'bloom-business' else 'bloom_blue_logo.png') }}"
                    alt="{{ APP_NAME }} Logo"
                    width="150px"
                    align="center"
                />
                <mj-text
                    align="center"
                    color="#ffffff"
                    font-size="28px"
                    font-weight="bold"
                    padding-top="20px"
                >
                    Verify Your Email
                </mj-text>
            </mj-column>
        </mj-section>

        <!-- Main Content -->
        <mj-section background-color="#ffffff" padding="40px 20px">
            <mj-column>
                <mj-text font-size="18px" color="#374151" padding-bottom="20px">
                    Hello {{ first_name }},
                </mj-text>

                <mj-text
                    font-size="16px"
                    color="#6B7280"
                    line-height="24px"
                    padding-bottom="30px"
                >
                    Welcome to {{ APP_NAME }}! To complete your account setup,
                    please verify your email address. {% if mode == 'state_key'
                    %}Click the button below to verify your email:{% else %}Use
                    the verification code below:{% endif %}
                </mj-text>

                {% if mode == 'state_key' %}
                <!-- Verification Button for state_key mode -->
                <mj-button
                    href="{{ FRONTEND_URL }}/auth/verify-email?token={{ token }}"
                    css-class="button-style"
                    font-size="16px"
                    padding="20px 0"
                >
                    Verify Email Address
                </mj-button>

                <mj-text
                    font-size="14px"
                    color="#9CA3AF"
                    align="center"
                    padding-top="20px"
                >
                    Or copy and paste this link into your browser:
                </mj-text>

                <mj-text
                    font-size="14px"
                    color="#6B7280"
                    align="center"
                    padding="10px 20px"
                    background-color="#F9FAFB"
                    border-radius="8px"
                >
                    {{ FRONTEND_URL }}/auth/verify-email?token={{ token }}
                </mj-text>

                {% else %}
                <!-- OTP Code for otp mode -->
                <mj-text align="center" padding="20px 0">
                    <div class="code-style">{{ token }}</div>
                </mj-text>

                <mj-text
                    font-size="14px"
                    color="#9CA3AF"
                    align="center"
                    padding-top="10px"
                >
                    This code will expire in {{ validity_time }} minutes
                </mj-text>
                {% endif %}

                <mj-text
                    font-size="14px"
                    color="#6B7280"
                    line-height="20px"
                    padding-top="30px"
                >
                    If you didn't create a {{ APP_NAME }} account, please ignore
                    this email or contact our support team if you have concerns.
                </mj-text>

                <mj-text
                    font-size="14px"
                    color="#9CA3AF"
                    line-height="20px"
                    padding-top="20px"
                >
                    This verification was requested on {{ now().strftime('%B %d,
                    %Y at %I:%M %p UTC') }}.
                </mj-text>
            </mj-column>
        </mj-section>

        <!-- Welcome Message -->
        <mj-section background-color="#F0F9FF" padding="30px 20px">
            <mj-column>
                <mj-text
                    font-size="16px"
                    color="#1E40AF"
                    align="center"
                    font-weight="600"
                    padding-bottom="10px"
                >
                    ðŸŽ‰ Welcome to the {{ APP_NAME }} Community!
                </mj-text>
                <mj-text
                    font-size="14px"
                    color="#3B82F6"
                    align="center"
                    line-height="20px"
                >
                    Once verified, you'll have access to all our features and
                    can start {% if client_type == 'bloom-business' %}growing
                    your reseller business{% else %}exploring our platform{%
                    endif %}.
                </mj-text>
            </mj-column>
        </mj-section>

        <!-- Security Notice -->
        <mj-section background-color="#FEF3C7" padding="20px">
            <mj-column>
                <mj-text
                    font-size="14px"
                    color="#92400E"
                    align="center"
                    line-height="20px"
                >
                    ðŸ”’ <strong>Security Notice:</strong> {{ APP_NAME }} will
                    never ask for your password via email. {% if mode ==
                    'state_key' %}This link{% else %}This code{% endif %} will
                    expire in {{ validity_time }} hours.
                </mj-text>
            </mj-column>
        </mj-section>

        <!-- Footer -->
        <mj-section background-color="#F3F4F6" padding="30px 20px">
            <mj-column>
                <mj-text
                    font-size="14px"
                    color="#6B7280"
                    align="center"
                    line-height="20px"
                >
                    Need help? Contact our support team at
                    <a
                        href="mailto:{{ SUPPORT_EMAIL }}"
                        class="primary-color"
                        >{{ SUPPORT_EMAIL }}</a
                    >
                </mj-text>

                <mj-text
                    font-size="12px"
                    color="#9CA3AF"
                    align="center"
                    padding-top="15px"
                >
                    Â© {{ now().year }} {{ APP_NAME }}. All rights reserved.
                </mj-text>

                <mj-text
                    font-size="12px"
                    color="#9CA3AF"
                    align="center"
                    padding-top="10px"
                >
                    This email was sent to {{ email }}
                </mj-text>
            </mj-column>
        </mj-section>
    </mj-body>
</mjml>
